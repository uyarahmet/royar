{"ast":null,"code":"import _slicedToArray from\"/Users/ahmet/Desktop/backup/royarfront/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{useHistory}from'react-router-dom';import'./css/Login.css';import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap/dist/js/bootstrap.min.js';import'bootstrap/dist/js/bootstrap.bundle.min';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{FaUserCircle,FaKey}from\"react-icons/fa\";import{TokenContext}from'./index';import SlideShow from'./SlideShow';import SearchAndBackground from'./SearchAndBackground';import ActionMenu from'./ActionMenu';import Contact from'./Contact';import Footer from'./Footer';import Navbar from'./Navbar';import ChatWidget from'./ChatWidget';import royaremlakicon from\"./img/royaremlakicon.png\";import axiosInstance from'./axios-connection';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Signup(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useCookies=useCookies(['access-token']),_useCookies2=_slicedToArray(_useCookies,3),token=_useCookies2[0],setToken=_useCookies2[1],deleteToken=_useCookies2[2];var _useCookies3=useCookies(['refresh-token']),_useCookies4=_slicedToArray(_useCookies3,3),refreshToken=_useCookies4[0],setRefreshToken=_useCookies4[1],deleteRefreshToken=_useCookies4[2];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),dialog=_useState6[0],setDialog=_useState6[1];var registerClicked=function registerClicked(){axiosInstance.post(\"auth/token/\",{username:email,password:password}).then(function(res){var access=res.data.access;var refresh=res.data.refresh;setToken('access-token',access);setRefreshToken('refresh-token',refresh);}).catch(function(err){if(err.response.status==401){setDialog(\"Wrong password, please try again.\");}else if(err.response.status==400){setDialog(\"This email has not registered\");}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container h-100\",style:{position:'relative',bottom:'150px',padding:'80px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_card\",style:{height:'50%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"brand_logo_container\",children:/*#__PURE__*/_jsx(\"img\",{src:royaremlakicon,className:\"brand_logo\",alt:\"Logo\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center form_container\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(FaUserCircle,{className:\"icon\",size:20})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"\",className:\"form-control input_user\",placeholder:\"email\",onChange:function onChange(evt){return setEmail(evt.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(FaKey,{className:\"icon\",size:20})})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"\",className:\"form-control input_pass\",placeholder:\"password\",onChange:function onChange(evt){return setPassword(evt.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(FaKey,{className:\"icon\",size:20})})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"\",className:\"form-control input_pass\",placeholder:\"reenter password\",onChange:function onChange(evt){return setPassword(evt.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"rememberWrapper\",className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customControlInline\"}),/*#__PURE__*/_jsx(\"label\",{id:\"rememberme\",className:\"custom-control-label\",htmlFor:\"customControlInline\",children:\"Remember me\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3 login_container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:registerClicked,name:\"button\",className:\"btn btn-primary btn-lg\",children:\"Sign Up\"})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',position:'relative',top:'15px',color:'red'},children:dialog}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",style:{margin:'7px',position:'relative',bottom:'5px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center links\",children:/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'none'},href:\"#\",children:\"Forgot your password?\"})})})]})})}),/*#__PURE__*/_jsx(ChatWidget,{}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["/Users/ahmet/Desktop/backup/royarfront/src/Signup.js"],"names":["React","useState","useContext","useEffect","useHistory","FontAwesomeIcon","FaUserCircle","FaKey","TokenContext","SlideShow","SearchAndBackground","ActionMenu","Contact","Footer","Navbar","ChatWidget","royaremlakicon","axiosInstance","useCookies","Signup","email","setEmail","password","setPassword","token","setToken","deleteToken","refreshToken","setRefreshToken","deleteRefreshToken","dialog","setDialog","registerClicked","post","username","then","res","access","data","refresh","catch","err","response","status","position","bottom","padding","height","evt","target","value","textAlign","top","color","margin","textDecoration"],"mappings":"yHAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,CAAqCC,SAArC,KAAqD,OAArD,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,iBAAP,CACA,MAAO,sCAAP,CACA,MAAO,oCAAP,CACA,MAAO,wCAAP,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAAQC,YAAR,CAAsBC,KAAtB,KAAkC,gBAAlC,CACA,OAAQC,YAAR,KAA2B,SAA3B,CAGA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,CACA,OAAQC,UAAR,KAAyB,cAAzB,C,6IAEA,cAAe,SAASC,CAAAA,MAAT,EAAiB,CAE9B,cAA0BlB,QAAQ,CAAC,EAAD,CAAlC,wCAAOmB,KAAP,eAAcC,QAAd,eACA,eAAgCpB,QAAQ,CAAC,EAAD,CAAxC,yCAAOqB,QAAP,eAAiBC,WAAjB,eACA,gBAAuCL,UAAU,CAAC,CAAC,cAAD,CAAD,CAAjD,4CAAOM,KAAP,iBAAcC,QAAd,iBAAwBC,WAAxB,iBACA,iBAA4DR,UAAU,CAAC,CAAC,eAAD,CAAD,CAAtE,6CAAOS,YAAP,iBAAqBC,eAArB,iBAAsCC,kBAAtC,iBACA,eAA4B5B,QAAQ,CAAC,EAAD,CAApC,yCAAO6B,MAAP,eAAeC,SAAf,eAGA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5Bf,aAAa,CACNgB,IADP,eAC2B,CACjBC,QAAQ,CAAEd,KADO,CAEjBE,QAAQ,CAAEA,QAFO,CAD3B,EAKOa,IALP,CAKY,SAACC,GAAD,CAAS,CACX,GAAIC,CAAAA,MAAM,CAAGD,GAAG,CAACE,IAAJ,CAASD,MAAtB,CACA,GAAIE,CAAAA,OAAO,CAAGH,GAAG,CAACE,IAAJ,CAASC,OAAvB,CACAd,QAAQ,CAAC,cAAD,CAAgBY,MAAhB,CAAR,CACAT,eAAe,CAAC,eAAD,CAAkBW,OAAlB,CAAf,CACH,CAVP,EAWOC,KAXP,CAWa,SAACC,GAAD,CAAO,CACZ,GAAGA,GAAG,CAACC,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAC5BZ,SAAS,CAAC,mCAAD,CAAT,CACD,CAFD,IAEM,IAAGU,GAAG,CAACC,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAClCZ,SAAS,CAAC,+BAAD,CAAT,CACD,CACF,CAjBP,EAkBD,CAnBD,CAsBE,mBACE,wCACA,KAAC,MAAD,IADA,cAEA,YAAK,SAAS,CAAC,iBAAf,CAAiC,KAAK,CAAE,CAACa,QAAQ,CAAE,UAAX,CAAuBC,MAAM,CAAE,OAA/B,CAAyCC,OAAO,CAAC,MAAjD,CAAxC,uBACA,YAAK,SAAS,CAAC,qCAAf,uBACC,aAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAACC,MAAM,CAAE,KAAT,CAAlC,wBACC,YAAK,SAAS,CAAC,+BAAf,uBACC,YAAK,SAAS,CAAC,sBAAf,uBACQ,YAAK,GAAG,CAAG/B,cAAX,CAA2B,SAAS,CAAC,YAArC,CAAkD,GAAG,CAAC,MAAtD,EADR,EADD,EADD,cAMC,YAAK,SAAS,CAAC,8CAAf,uBACC,qCACC,aAAK,SAAS,CAAC,kBAAf,wBACC,YAAK,SAAS,CAAC,oBAAf,uBACS,aAAM,SAAS,CAAC,kBAAhB,uBAAmC,KAAC,YAAD,EAAc,SAAS,CAAC,MAAxB,CAA+B,IAAI,CAAE,EAArC,EAAnC,EADT,EADD,cAIC,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,EAAxB,CAA2B,SAAS,CAAC,yBAArC,CAA+D,WAAW,CAAC,OAA3E,CAAmF,QAAQ,CAClF,kBAAAgC,GAAG,QAAI3B,CAAAA,QAAQ,CAAC2B,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAZ,EADZ,EAJD,GADD,cASC,aAAK,SAAS,CAAC,kBAAf,wBACC,YAAK,SAAS,CAAC,oBAAf,uBACS,aAAM,SAAS,CAAC,kBAAhB,uBAAmC,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,IAAI,CAAE,EAA9B,EAAnC,EADT,EADD,cAIC,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,EAA5B,CAA+B,SAAS,CAAC,yBAAzC,CAAmE,WAAW,CAAC,UAA/E,CAA0F,QAAQ,CACzF,kBAAAF,GAAG,QAAIzB,CAAAA,WAAW,CAACyB,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAf,EADZ,EAJD,GATD,cAiBO,aAAK,SAAS,CAAC,kBAAf,wBACL,YAAK,SAAS,CAAC,oBAAf,uBACS,aAAM,SAAS,CAAC,kBAAhB,uBAAmC,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,IAAI,CAAE,EAA9B,EAAnC,EADT,EADK,cAIL,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,EAA5B,CAA+B,SAAS,CAAC,yBAAzC,CAAmE,WAAW,CAAC,kBAA/E,CAAkG,QAAQ,CACjG,kBAAAF,GAAG,QAAIzB,CAAAA,WAAW,CAACyB,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAf,EADZ,EAJK,GAjBP,cAyBC,YAAK,SAAS,CAAC,YAAf,uBACC,aAAK,EAAE,CAAC,iBAAR,CAA0B,SAAS,CAAC,gCAApC,wBACC,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,sBAAjC,CAAwD,EAAE,CAAC,qBAA3D,EADD,cAEC,cAAO,EAAE,CAAC,YAAV,CAAuB,SAAS,CAAC,sBAAjC,CAAwD,OAAO,CAAC,qBAAhE,yBAFD,GADD,EAzBD,cA+BE,YAAK,SAAS,CAAC,oDAAf,uBACD,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAElB,eAA/B,CAAgD,IAAI,CAAC,QAArD,CAA8D,SAAS,CAAC,wBAAxE,qBADC,EA/BF,GADD,EAND,cA4CK,YAAK,KAAK,CAAE,CAACmB,SAAS,CAAE,QAAZ,CAAsBP,QAAQ,CAAE,UAAhC,CAA4CQ,GAAG,CAAE,MAAjD,CAAyDC,KAAK,CAAE,KAAhE,CAAZ,UAAqFvB,MAArF,EA5CL,cA8CC,YAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAACwB,MAAM,CAAE,KAAT,CAAgBV,QAAQ,CAAE,UAA1B,CAAsCC,MAAM,CAAE,KAA9C,CAA7B,uBACC,YAAK,SAAS,CAAC,qCAAf,uBACC,UAAG,KAAK,CAAE,CAACU,cAAc,CAAE,MAAjB,CAAV,CAAqC,IAAI,CAAC,GAA1C,mCADD,EADD,EA9CD,GADD,EADA,EAFA,cA0DA,KAAC,UAAD,IA1DA,cA2DA,KAAC,MAAD,IA3DA,GADF,CA+DH","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom'\nimport './css/Login.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {FaUserCircle, FaKey} from \"react-icons/fa\"\nimport {TokenContext} from './index'\n\n\nimport SlideShow from './SlideShow'\nimport SearchAndBackground from './SearchAndBackground'\nimport ActionMenu from './ActionMenu'\nimport Contact from './Contact'\nimport Footer from './Footer'\nimport Navbar from './Navbar'\nimport ChatWidget from './ChatWidget'\n\nimport royaremlakicon from \"./img/royaremlakicon.png\"\nimport axiosInstance from './axios-connection'\nimport {useCookies} from 'react-cookie'\n\nexport default function Signup(){\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [token, setToken, deleteToken] = useCookies(['access-token'])\n  const [refreshToken, setRefreshToken, deleteRefreshToken] = useCookies(['refresh-token'])\n  const [dialog, setDialog] = useState('')\n\n\n  const registerClicked = () => {\n    axiosInstance\n          .post(`auth/token/`, {\n              username: email,\n              password: password,\n          })\n          .then((res) => {\n              var access = res.data.access\n              var refresh = res.data.refresh\n              setToken('access-token',access)\n              setRefreshToken('refresh-token', refresh)\n          })\n          .catch((err)=>{\n            if(err.response.status == 401){\n              setDialog(\"Wrong password, please try again.\")\n            }else if(err.response.status == 400){\n              setDialog(\"This email has not registered\")\n            }\n          })\n  }\n\n\n    return (\n      <>\n      <Navbar/>\n      <div className=\"container h-100\" style={{position: 'relative', bottom: '150px' , padding:'80px'}}>\n    \t\t<div className=\"d-flex justify-content-center h-100\">\n    \t\t\t<div className=\"user_card\" style={{height: '50%'}}>\n    \t\t\t\t<div className=\"d-flex justify-content-center\">\n    \t\t\t\t\t<div className=\"brand_logo_container\">\n                \t<img src= {royaremlakicon} className=\"brand_logo\" alt=\"Logo\"/>\n    \t\t\t\t\t</div>\n    \t\t\t\t</div>\n    \t\t\t\t<div className=\"d-flex justify-content-center form_container\">\n    \t\t\t\t\t<form>\n    \t\t\t\t\t\t<div className=\"input-group mb-3\">\n    \t\t\t\t\t\t\t<div className=\"input-group-append\">\n                    <span className=\"input-group-text\"><FaUserCircle className=\"icon\" size={20}/></span>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<input type=\"text\" name=\"\" className=\"form-control input_user\" placeholder=\"email\" onChange={\n                    evt => setEmail(evt.target.value)\n                  }/>\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t<div className=\"input-group mb-3\">\n    \t\t\t\t\t\t\t<div className=\"input-group-append\">\n                    <span className=\"input-group-text\"><FaKey className=\"icon\" size={20}/></span>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<input type=\"password\" name=\"\" className=\"form-control input_pass\" placeholder=\"password\" onChange={\n                    evt => setPassword(evt.target.value)\n                  }/>\n    \t\t\t\t\t\t</div>\n                <div className=\"input-group mb-3\">\n    \t\t\t\t\t\t\t<div className=\"input-group-append\">\n                    <span className=\"input-group-text\"><FaKey className=\"icon\" size={20}/></span>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<input type=\"password\" name=\"\" className=\"form-control input_pass\" placeholder=\"reenter password\" onChange={\n                    evt => setPassword(evt.target.value)\n                  }/>\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<div id=\"rememberWrapper\" className=\"custom-control custom-checkbox\">\n    \t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"custom-control-input\" id=\"customControlInline\"/>\n    \t\t\t\t\t\t\t\t<label id=\"rememberme\" className=\"custom-control-label\" htmlFor=\"customControlInline\">Remember me</label>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3 login_container\">\n    \t\t\t\t \t<button type=\"button\" onClick={registerClicked} name=\"button\" className=\"btn btn-primary btn-lg\">Sign Up</button>\n    \t\t\t\t   </div>\n    \t\t\t\t\t</form>\n    \t\t\t\t</div>\n\n            <div style={{textAlign: 'center', position: 'relative', top: '15px', color: 'red'}}>{dialog}</div>\n\n    \t\t\t\t<div className=\"mt-4\" style={{margin: '7px', position: 'relative', bottom: '5px'}}>\n    \t\t\t\t\t<div className=\"d-flex justify-content-center links\">\n    \t\t\t\t\t\t<a style={{textDecoration: 'none',}} href=\"#\">Forgot your password?</a>\n    \t\t\t\t\t</div>\n    \t\t\t\t</div>\n    \t\t\t</div>\n    \t\t</div>\n    \t</div>\n      <ChatWidget/>\n      <Footer/>\n      </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}
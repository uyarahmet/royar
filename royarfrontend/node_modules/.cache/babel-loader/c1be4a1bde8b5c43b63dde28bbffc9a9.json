{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport { useChannelDeletedListener } from './hooks/useChannelDeletedListener';\nimport { useChannelHiddenListener } from './hooks/useChannelHiddenListener';\nimport { useChannelTruncatedListener } from './hooks/useChannelTruncatedListener';\nimport { useChannelUpdatedListener } from './hooks/useChannelUpdatedListener';\nimport { useChannelVisibleListener } from './hooks/useChannelVisibleListener';\nimport { useConnectionRecoveredListener } from './hooks/useConnectionRecoveredListener';\nimport { useMessageNewListener } from './hooks/useMessageNewListener';\nimport { useMobileNavigation } from './hooks/useMobileNavigation';\nimport { useNotificationAddedToChannelListener } from './hooks/useNotificationAddedToChannelListener';\nimport { useNotificationMessageNewListener } from './hooks/useNotificationMessageNewListener';\nimport { useNotificationRemovedFromChannelListener } from './hooks/useNotificationRemovedFromChannelListener';\nimport { usePaginatedChannels } from './hooks/usePaginatedChannels';\nimport { useUserPresenceChangedListener } from './hooks/useUserPresenceChangedListener';\nimport { MAX_QUERY_CHANNELS_LIMIT, moveChannelUp } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar/Avatar';\nimport { ChannelPreview } from '../ChannelPreview/ChannelPreview';\nimport { ChannelSearch as DefaultChannelSearch } from '../ChannelSearch/ChannelSearch';\nimport { ChatDown } from '../ChatDown/ChatDown';\nimport { EmptyStateIndicator as DefaultEmptyStateIndicator } from '../EmptyStateIndicator';\nimport { LoadingChannels } from '../Loading/LoadingChannels';\nimport { LoadMorePaginator } from '../LoadMore/LoadMorePaginator';\nimport { useChatContext } from '../../context/ChatContext';\nvar DEFAULT_FILTERS = {};\nvar DEFAULT_OPTIONS = {};\nvar DEFAULT_SORT = {};\n\nvar UnMemoizedChannelList = function (props) {\n  var additionalChannelSearchProps = props.additionalChannelSearchProps,\n      _a = props.Avatar,\n      Avatar = _a === void 0 ? DefaultAvatar : _a,\n      allowNewMessagesFromUnfilteredChannels = props.allowNewMessagesFromUnfilteredChannels,\n      channelRenderFilterFn = props.channelRenderFilterFn,\n      _b = props.ChannelSearch,\n      ChannelSearch = _b === void 0 ? DefaultChannelSearch : _b,\n      customActiveChannel = props.customActiveChannel,\n      _c = props.EmptyStateIndicator,\n      EmptyStateIndicator = _c === void 0 ? DefaultEmptyStateIndicator : _c,\n      filters = props.filters,\n      _d = props.LoadingErrorIndicator,\n      LoadingErrorIndicator = _d === void 0 ? ChatDown : _d,\n      _e = props.LoadingIndicator,\n      LoadingIndicator = _e === void 0 ? LoadingChannels : _e,\n      _f = props.List,\n      List = _f === void 0 ? ChannelListMessenger : _f,\n      lockChannelOrder = props.lockChannelOrder,\n      onAddedToChannel = props.onAddedToChannel,\n      onChannelDeleted = props.onChannelDeleted,\n      onChannelHidden = props.onChannelHidden,\n      onChannelTruncated = props.onChannelTruncated,\n      onChannelUpdated = props.onChannelUpdated,\n      onChannelVisible = props.onChannelVisible,\n      onMessageNew = props.onMessageNew,\n      onRemovedFromChannel = props.onRemovedFromChannel,\n      options = props.options,\n      _g = props.Paginator,\n      Paginator = _g === void 0 ? LoadMorePaginator : _g,\n      Preview = props.Preview,\n      _h = props.sendChannelsToList,\n      sendChannelsToList = _h === void 0 ? false : _h,\n      _j = props.setActiveChannelOnMount,\n      setActiveChannelOnMount = _j === void 0 ? true : _j,\n      _k = props.showChannelSearch,\n      showChannelSearch = _k === void 0 ? false : _k,\n      _l = props.sort,\n      sort = _l === void 0 ? DEFAULT_SORT : _l,\n      _m = props.watchers,\n      watchers = _m === void 0 ? {} : _m;\n\n  var _o = useChatContext(),\n      channel = _o.channel,\n      client = _o.client,\n      closeMobileNav = _o.closeMobileNav,\n      _p = _o.navOpen,\n      navOpen = _p === void 0 ? false : _p,\n      setActiveChannel = _o.setActiveChannel,\n      theme = _o.theme,\n      useImageFlagEmojisOnWindows = _o.useImageFlagEmojisOnWindows;\n\n  var channelListRef = useRef(null);\n\n  var _q = useState(0),\n      channelUpdateCount = _q[0],\n      setChannelUpdateCount = _q[1];\n  /**\n   * Set a channel with id {customActiveChannel} as active and move it to the top of the list.\n   * If customActiveChannel prop is absent, then set the first channel in list as active channel.\n   */\n\n\n  var activeChannelHandler = function (channels, setChannels) {\n    if (!channels || channels.length === 0 || channels.length > ((options === null || options === void 0 ? void 0 : options.limit) || MAX_QUERY_CHANNELS_LIMIT)) {\n      return;\n    }\n\n    if (customActiveChannel) {\n      var customActiveChannelObject = channels.find(function (chan) {\n        return chan.id === customActiveChannel;\n      });\n\n      if (customActiveChannelObject) {\n        if (setActiveChannel) {\n          setActiveChannel(customActiveChannelObject, watchers);\n        }\n\n        var newChannels = moveChannelUp(customActiveChannelObject.cid, channels);\n        setChannels(newChannels);\n      }\n\n      return;\n    }\n\n    if (setActiveChannelOnMount && setActiveChannel) {\n      setActiveChannel(channels[0], watchers);\n    }\n  };\n  /**\n   * For some events, inner properties on the channel will update but the shallow comparison will not\n   * force a re-render. Incrementing this dummy variable ensures the channel previews update.\n   */\n\n\n  var forceUpdate = function () {\n    return setChannelUpdateCount(function (count) {\n      return count + 1;\n    });\n  };\n\n  var _r = usePaginatedChannels(client, filters || DEFAULT_FILTERS, sort || DEFAULT_SORT, options || DEFAULT_OPTIONS, activeChannelHandler),\n      channels = _r.channels,\n      hasNextPage = _r.hasNextPage,\n      loadNextPage = _r.loadNextPage,\n      setChannels = _r.setChannels,\n      status = _r.status;\n\n  var loadedChannels = channelRenderFilterFn ? channelRenderFilterFn(channels) : channels;\n  useMobileNavigation(channelListRef, navOpen, closeMobileNav);\n  useMessageNewListener(setChannels, lockChannelOrder, allowNewMessagesFromUnfilteredChannels);\n  useNotificationMessageNewListener(setChannels, onMessageNew);\n  useNotificationAddedToChannelListener(setChannels, onAddedToChannel);\n  useNotificationRemovedFromChannelListener(setChannels, onRemovedFromChannel);\n  useChannelDeletedListener(setChannels, onChannelDeleted);\n  useChannelHiddenListener(setChannels, onChannelHidden);\n  useChannelVisibleListener(setChannels, onChannelVisible);\n  useChannelTruncatedListener(setChannels, onChannelTruncated, forceUpdate);\n  useChannelUpdatedListener(setChannels, onChannelUpdated, forceUpdate);\n  useConnectionRecoveredListener(forceUpdate);\n  useUserPresenceChangedListener(setChannels);\n  useEffect(function () {\n    var handleEvent = function (event) {\n      if (setActiveChannel && (event === null || event === void 0 ? void 0 : event.cid) === (channel === null || channel === void 0 ? void 0 : channel.cid)) {\n        setActiveChannel();\n      }\n    };\n\n    client.on('channel.deleted', handleEvent);\n    client.on('channel.hidden', handleEvent);\n    return function () {\n      client.off('channel.deleted', handleEvent);\n      client.off('channel.hidden', handleEvent);\n    };\n  }, [channel]);\n\n  var renderChannel = function (item) {\n    if (!item) return null;\n    var previewProps = {\n      activeChannel: channel,\n      Avatar: Avatar,\n      channel: item,\n      channelUpdateCount: channelUpdateCount,\n      key: item.id,\n      Preview: Preview,\n      setActiveChannel: setActiveChannel,\n      watchers: watchers\n    };\n    return React.createElement(ChannelPreview, __assign({}, previewProps));\n  };\n\n  var renderList = function () {\n    return React.createElement(List, {\n      error: status.error,\n      loadedChannels: sendChannelsToList ? loadedChannels : undefined,\n      loading: status.loadingChannels,\n      LoadingErrorIndicator: LoadingErrorIndicator,\n      LoadingIndicator: LoadingIndicator\n    }, !loadedChannels || loadedChannels.length === 0 ? React.createElement(EmptyStateIndicator, {\n      listType: 'channel'\n    }) : React.createElement(Paginator, {\n      hasNextPage: hasNextPage,\n      loadNextPage: loadNextPage,\n      refreshing: status.refreshing\n    }, loadedChannels.map(renderChannel)));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"str-chat str-chat-channel-list \" + theme + \" \" + (navOpen ? 'str-chat-channel-list--open' : '') + \" \" + (useImageFlagEmojisOnWindows && navigator.platform.match(/Win/) ? 'str-chat--windows-flags' : ''),\n    ref: channelListRef\n  }, showChannelSearch && React.createElement(ChannelSearch, __assign({}, additionalChannelSearchProps)), renderList()));\n};\n/**\n * Renders a preview list of Channels, allowing you to select the Channel you want to open\n */\n\n\nexport var ChannelList = React.memo(UnMemoizedChannelList);","map":{"version":3,"sources":["/Users/ahmet/Desktop/royar/node_modules/stream-chat-react/dist/components/ChannelList/ChannelList.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useRef","useState","ChannelListMessenger","useChannelDeletedListener","useChannelHiddenListener","useChannelTruncatedListener","useChannelUpdatedListener","useChannelVisibleListener","useConnectionRecoveredListener","useMessageNewListener","useMobileNavigation","useNotificationAddedToChannelListener","useNotificationMessageNewListener","useNotificationRemovedFromChannelListener","usePaginatedChannels","useUserPresenceChangedListener","MAX_QUERY_CHANNELS_LIMIT","moveChannelUp","Avatar","DefaultAvatar","ChannelPreview","ChannelSearch","DefaultChannelSearch","ChatDown","EmptyStateIndicator","DefaultEmptyStateIndicator","LoadingChannels","LoadMorePaginator","useChatContext","DEFAULT_FILTERS","DEFAULT_OPTIONS","DEFAULT_SORT","UnMemoizedChannelList","props","additionalChannelSearchProps","_a","allowNewMessagesFromUnfilteredChannels","channelRenderFilterFn","_b","customActiveChannel","_c","filters","_d","LoadingErrorIndicator","_e","LoadingIndicator","_f","List","lockChannelOrder","onAddedToChannel","onChannelDeleted","onChannelHidden","onChannelTruncated","onChannelUpdated","onChannelVisible","onMessageNew","onRemovedFromChannel","options","_g","Paginator","Preview","_h","sendChannelsToList","_j","setActiveChannelOnMount","_k","showChannelSearch","_l","sort","_m","watchers","_o","channel","client","closeMobileNav","_p","navOpen","setActiveChannel","theme","useImageFlagEmojisOnWindows","channelListRef","_q","channelUpdateCount","setChannelUpdateCount","activeChannelHandler","channels","setChannels","limit","customActiveChannelObject","find","chan","id","newChannels","cid","forceUpdate","count","_r","hasNextPage","loadNextPage","status","loadedChannels","handleEvent","event","on","off","renderChannel","item","previewProps","activeChannel","key","createElement","renderList","error","undefined","loading","loadingChannels","listType","refreshing","map","Fragment","className","navigator","platform","match","ref","ChannelList","memo"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useEffect, useRef, useState } from 'react';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport { useChannelDeletedListener } from './hooks/useChannelDeletedListener';\nimport { useChannelHiddenListener } from './hooks/useChannelHiddenListener';\nimport { useChannelTruncatedListener } from './hooks/useChannelTruncatedListener';\nimport { useChannelUpdatedListener } from './hooks/useChannelUpdatedListener';\nimport { useChannelVisibleListener } from './hooks/useChannelVisibleListener';\nimport { useConnectionRecoveredListener } from './hooks/useConnectionRecoveredListener';\nimport { useMessageNewListener } from './hooks/useMessageNewListener';\nimport { useMobileNavigation } from './hooks/useMobileNavigation';\nimport { useNotificationAddedToChannelListener } from './hooks/useNotificationAddedToChannelListener';\nimport { useNotificationMessageNewListener } from './hooks/useNotificationMessageNewListener';\nimport { useNotificationRemovedFromChannelListener } from './hooks/useNotificationRemovedFromChannelListener';\nimport { usePaginatedChannels } from './hooks/usePaginatedChannels';\nimport { useUserPresenceChangedListener } from './hooks/useUserPresenceChangedListener';\nimport { MAX_QUERY_CHANNELS_LIMIT, moveChannelUp } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar/Avatar';\nimport { ChannelPreview } from '../ChannelPreview/ChannelPreview';\nimport { ChannelSearch as DefaultChannelSearch, } from '../ChannelSearch/ChannelSearch';\nimport { ChatDown } from '../ChatDown/ChatDown';\nimport { EmptyStateIndicator as DefaultEmptyStateIndicator, } from '../EmptyStateIndicator';\nimport { LoadingChannels } from '../Loading/LoadingChannels';\nimport { LoadMorePaginator } from '../LoadMore/LoadMorePaginator';\nimport { useChatContext } from '../../context/ChatContext';\nvar DEFAULT_FILTERS = {};\nvar DEFAULT_OPTIONS = {};\nvar DEFAULT_SORT = {};\nvar UnMemoizedChannelList = function (props) {\n    var additionalChannelSearchProps = props.additionalChannelSearchProps, _a = props.Avatar, Avatar = _a === void 0 ? DefaultAvatar : _a, allowNewMessagesFromUnfilteredChannels = props.allowNewMessagesFromUnfilteredChannels, channelRenderFilterFn = props.channelRenderFilterFn, _b = props.ChannelSearch, ChannelSearch = _b === void 0 ? DefaultChannelSearch : _b, customActiveChannel = props.customActiveChannel, _c = props.EmptyStateIndicator, EmptyStateIndicator = _c === void 0 ? DefaultEmptyStateIndicator : _c, filters = props.filters, _d = props.LoadingErrorIndicator, LoadingErrorIndicator = _d === void 0 ? ChatDown : _d, _e = props.LoadingIndicator, LoadingIndicator = _e === void 0 ? LoadingChannels : _e, _f = props.List, List = _f === void 0 ? ChannelListMessenger : _f, lockChannelOrder = props.lockChannelOrder, onAddedToChannel = props.onAddedToChannel, onChannelDeleted = props.onChannelDeleted, onChannelHidden = props.onChannelHidden, onChannelTruncated = props.onChannelTruncated, onChannelUpdated = props.onChannelUpdated, onChannelVisible = props.onChannelVisible, onMessageNew = props.onMessageNew, onRemovedFromChannel = props.onRemovedFromChannel, options = props.options, _g = props.Paginator, Paginator = _g === void 0 ? LoadMorePaginator : _g, Preview = props.Preview, _h = props.sendChannelsToList, sendChannelsToList = _h === void 0 ? false : _h, _j = props.setActiveChannelOnMount, setActiveChannelOnMount = _j === void 0 ? true : _j, _k = props.showChannelSearch, showChannelSearch = _k === void 0 ? false : _k, _l = props.sort, sort = _l === void 0 ? DEFAULT_SORT : _l, _m = props.watchers, watchers = _m === void 0 ? {} : _m;\n    var _o = useChatContext(), channel = _o.channel, client = _o.client, closeMobileNav = _o.closeMobileNav, _p = _o.navOpen, navOpen = _p === void 0 ? false : _p, setActiveChannel = _o.setActiveChannel, theme = _o.theme, useImageFlagEmojisOnWindows = _o.useImageFlagEmojisOnWindows;\n    var channelListRef = useRef(null);\n    var _q = useState(0), channelUpdateCount = _q[0], setChannelUpdateCount = _q[1];\n    /**\n     * Set a channel with id {customActiveChannel} as active and move it to the top of the list.\n     * If customActiveChannel prop is absent, then set the first channel in list as active channel.\n     */\n    var activeChannelHandler = function (channels, setChannels) {\n        if (!channels ||\n            channels.length === 0 ||\n            channels.length > ((options === null || options === void 0 ? void 0 : options.limit) || MAX_QUERY_CHANNELS_LIMIT)) {\n            return;\n        }\n        if (customActiveChannel) {\n            var customActiveChannelObject = channels.find(function (chan) { return chan.id === customActiveChannel; });\n            if (customActiveChannelObject) {\n                if (setActiveChannel) {\n                    setActiveChannel(customActiveChannelObject, watchers);\n                }\n                var newChannels = moveChannelUp(customActiveChannelObject.cid, channels);\n                setChannels(newChannels);\n            }\n            return;\n        }\n        if (setActiveChannelOnMount && setActiveChannel) {\n            setActiveChannel(channels[0], watchers);\n        }\n    };\n    /**\n     * For some events, inner properties on the channel will update but the shallow comparison will not\n     * force a re-render. Incrementing this dummy variable ensures the channel previews update.\n     */\n    var forceUpdate = function () { return setChannelUpdateCount(function (count) { return count + 1; }); };\n    var _r = usePaginatedChannels(client, filters || DEFAULT_FILTERS, sort || DEFAULT_SORT, options || DEFAULT_OPTIONS, activeChannelHandler), channels = _r.channels, hasNextPage = _r.hasNextPage, loadNextPage = _r.loadNextPage, setChannels = _r.setChannels, status = _r.status;\n    var loadedChannels = channelRenderFilterFn ? channelRenderFilterFn(channels) : channels;\n    useMobileNavigation(channelListRef, navOpen, closeMobileNav);\n    useMessageNewListener(setChannels, lockChannelOrder, allowNewMessagesFromUnfilteredChannels);\n    useNotificationMessageNewListener(setChannels, onMessageNew);\n    useNotificationAddedToChannelListener(setChannels, onAddedToChannel);\n    useNotificationRemovedFromChannelListener(setChannels, onRemovedFromChannel);\n    useChannelDeletedListener(setChannels, onChannelDeleted);\n    useChannelHiddenListener(setChannels, onChannelHidden);\n    useChannelVisibleListener(setChannels, onChannelVisible);\n    useChannelTruncatedListener(setChannels, onChannelTruncated, forceUpdate);\n    useChannelUpdatedListener(setChannels, onChannelUpdated, forceUpdate);\n    useConnectionRecoveredListener(forceUpdate);\n    useUserPresenceChangedListener(setChannels);\n    useEffect(function () {\n        var handleEvent = function (event) {\n            if (setActiveChannel && (event === null || event === void 0 ? void 0 : event.cid) === (channel === null || channel === void 0 ? void 0 : channel.cid)) {\n                setActiveChannel();\n            }\n        };\n        client.on('channel.deleted', handleEvent);\n        client.on('channel.hidden', handleEvent);\n        return function () {\n            client.off('channel.deleted', handleEvent);\n            client.off('channel.hidden', handleEvent);\n        };\n    }, [channel]);\n    var renderChannel = function (item) {\n        if (!item)\n            return null;\n        var previewProps = {\n            activeChannel: channel,\n            Avatar: Avatar,\n            channel: item,\n            channelUpdateCount: channelUpdateCount,\n            key: item.id,\n            Preview: Preview,\n            setActiveChannel: setActiveChannel,\n            watchers: watchers,\n        };\n        return React.createElement(ChannelPreview, __assign({}, previewProps));\n    };\n    var renderList = function () { return (React.createElement(List, { error: status.error, loadedChannels: sendChannelsToList ? loadedChannels : undefined, loading: status.loadingChannels, LoadingErrorIndicator: LoadingErrorIndicator, LoadingIndicator: LoadingIndicator }, !loadedChannels || loadedChannels.length === 0 ? (React.createElement(EmptyStateIndicator, { listType: 'channel' })) : (React.createElement(Paginator, { hasNextPage: hasNextPage, loadNextPage: loadNextPage, refreshing: status.refreshing }, loadedChannels.map(renderChannel))))); };\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: \"str-chat str-chat-channel-list \" + theme + \" \" + (navOpen ? 'str-chat-channel-list--open' : '') + \" \" + (useImageFlagEmojisOnWindows && navigator.platform.match(/Win/)\n                ? 'str-chat--windows-flags'\n                : ''), ref: channelListRef },\n            showChannelSearch && React.createElement(ChannelSearch, __assign({}, additionalChannelSearchProps)),\n            renderList())));\n};\n/**\n * Renders a preview list of Channels, allowing you to select the Channel you want to open\n */\nexport var ChannelList = React.memo(UnMemoizedChannelList);\n"]},"metadata":{},"sourceType":"module"}
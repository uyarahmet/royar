{"ast":null,"code":"import _slicedToArray from\"/Users/ahmet/Desktop/githubfrontendroyar/royar/royarfrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import SlideShow from'./SlideShow';import SearchAndBackground from'./SearchAndBackground';import ActionMenu from'./ActionMenu';import Contact from'./Contact';import Footer from'./Footer';import Navbar from'./Navbar';import ChatWidget from'./ChatWidget';import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap/dist/js/bootstrap.min.js';import'./App.css';import'./css/main.css';import React,{useEffect,useState}from'react';import{Widget,addResponseMessage}from'react-chat-widget';import'react-chat-widget/lib/styles.css';import messageHandler from'./messageHandler';import'bootstrap/dist/css/bootstrap.min.css';import'bootstrap/dist/js/bootstrap.min.js';import'bootstrap/dist/js/bootstrap.bundle.min';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{FaUserCircle,FaKey}from\"react-icons/fa\";import royaremlakicon from\"./img/royaremlakicon.png\";import axiosInstance from'./axios-connection';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useCookies=useCookies(['access-token']),_useCookies2=_slicedToArray(_useCookies,3),token=_useCookies2[0],setToken=_useCookies2[1],deleteToken=_useCookies2[2];var _useCookies3=useCookies(['refresh-token']),_useCookies4=_slicedToArray(_useCookies3,3),refreshToken=_useCookies4[0],setRefreshToken=_useCookies4[1],deleteRefreshToken=_useCookies4[2];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),dialog=_useState6[0],setDialog=_useState6[1];var logged;if(token['acces-token']){logged=true;}else{logged=false;}var _useState7=useState(logged),_useState8=_slicedToArray(_useState7,2),isLoggedIn=_useState8[0],setIsLoggedIn=_useState8[1];function loginClicked(){axiosInstance.post(\"auth/token/\",{username:email,password:password}).then(function(res){var access=res.data.access;var refresh=res.data.refresh;setToken('access-token',access);setRefreshToken('refresh-token',refresh);setDialog(\"Loginned succesfuly.\");setIsLoggedIn(true);}).catch(function(err){setIsLoggedIn(false);if(err.response.status==401){setDialog(\"Wrong password, please try again.\");}else if(err.response.status==400){setDialog(\"This email has not registered\");}});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsx(\"div\",{className:\"container h-100\",style:{position:'relative',bottom:'150px',padding:'80px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user_card\",style:{height:'50%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"brand_logo_container\",children:/*#__PURE__*/_jsx(\"img\",{src:royaremlakicon,className:\"brand_logo\",alt:\"Logo\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center form_container\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(FaUserCircle,{className:\"icon\",size:20})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"\",className:\"form-control input_user\",placeholder:\"email\",onChange:function onChange(evt){return setEmail(evt.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:/*#__PURE__*/_jsx(FaKey,{className:\"icon\",size:20})})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"\",className:\"form-control input_pass\",placeholder:\"password\",onChange:function onChange(evt){return setPassword(evt.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"rememberWrapper\",className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customControlInline\"}),/*#__PURE__*/_jsx(\"label\",{id:\"rememberme\",className:\"custom-control-label\",htmlFor:\"customControlInline\",children:\"Remember me\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-3 login_container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",name:\"button\",onClick:loginClicked,className:\"btn btn-primary btn-lg\",children:\"Login\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center links\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'none'},className:\"ml-2\",href:\"/signup\",children:\"\\xA0 Sign Up\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'red'},children:dialog}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center links\",children:/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'none'},href:\"#\",children:\"Forgot your password?\"})})]})]})})}),/*#__PURE__*/_jsx(ChatWidget,{}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["/Users/ahmet/Desktop/githubfrontendroyar/royar/royarfrontend/src/Login.js"],"names":["SlideShow","SearchAndBackground","ActionMenu","Contact","Footer","Navbar","ChatWidget","React","useEffect","useState","Widget","addResponseMessage","messageHandler","FontAwesomeIcon","FaUserCircle","FaKey","royaremlakicon","axiosInstance","useCookies","Login","email","setEmail","password","setPassword","token","setToken","deleteToken","refreshToken","setRefreshToken","deleteRefreshToken","dialog","setDialog","logged","isLoggedIn","setIsLoggedIn","loginClicked","post","username","then","res","access","data","refresh","catch","err","response","status","position","bottom","padding","height","evt","target","value","textDecoration","textAlign","color"],"mappings":"mLACA,MAAOA,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uBAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAO,sCAAP,CACA,MAAO,oCAAP,CACA,MAAO,WAAP,CACA,MAAO,gBAAP,CACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAASC,MAAT,CAAiBC,kBAAjB,KAA2C,mBAA3C,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,MAAO,sCAAP,CACA,MAAO,oCAAP,CACA,MAAO,wCAAP,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAAQC,YAAR,CAAsBC,KAAtB,KAAkC,gBAAlC,CAEA,MAAOC,CAAAA,cAAP,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,CACA,OAAQC,UAAR,KAAyB,cAAzB,C,6IAGA,cAAe,SAASC,CAAAA,KAAT,EAAgB,CAE3B,cAA0BV,QAAQ,CAAC,EAAD,CAAlC,wCAAOW,KAAP,eAAcC,QAAd,eACA,eAAgCZ,QAAQ,CAAC,EAAD,CAAxC,yCAAOa,QAAP,eAAiBC,WAAjB,eACA,gBAAuCL,UAAU,CAAC,CAAC,cAAD,CAAD,CAAjD,4CAAOM,KAAP,iBAAcC,QAAd,iBAAwBC,WAAxB,iBACA,iBAA4DR,UAAU,CAAC,CAAC,eAAD,CAAD,CAAtE,6CAAOS,YAAP,iBAAqBC,eAArB,iBAAsCC,kBAAtC,iBACA,eAA4BpB,QAAQ,CAAC,EAAD,CAApC,yCAAOqB,MAAP,eAAeC,SAAf,eAEA,GAAIC,CAAAA,MAAJ,CACA,GAAGR,KAAK,CAAC,aAAD,CAAR,CAAwB,CACtBQ,MAAM,CAAG,IAAT,CACD,CAFD,IAEK,CACHA,MAAM,CAAG,KAAT,CACD,CACD,eAAoCvB,QAAQ,CAACuB,MAAD,CAA5C,yCAAOC,UAAP,eAAmBC,aAAnB,eAEA,QAASC,CAAAA,YAAT,EAAuB,CAEnBlB,aAAa,CACNmB,IADP,eAC2B,CACjBC,QAAQ,CAAEjB,KADO,CAEjBE,QAAQ,CAAEA,QAFO,CAD3B,EAKOgB,IALP,CAKY,SAACC,GAAD,CAAS,CACX,GAAIC,CAAAA,MAAM,CAAGD,GAAG,CAACE,IAAJ,CAASD,MAAtB,CACA,GAAIE,CAAAA,OAAO,CAAGH,GAAG,CAACE,IAAJ,CAASC,OAAvB,CACAjB,QAAQ,CAAC,cAAD,CAAgBe,MAAhB,CAAR,CACAZ,eAAe,CAAC,eAAD,CAAkBc,OAAlB,CAAf,CACAX,SAAS,CAAC,sBAAD,CAAT,CACAG,aAAa,CAAC,IAAD,CAAb,CACH,CAZP,EAaOS,KAbP,CAaa,SAACC,GAAD,CAAO,CACZV,aAAa,CAAC,KAAD,CAAb,CACA,GAAGU,GAAG,CAACC,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAC5Bf,SAAS,CAAC,mCAAD,CAAT,CACD,CAFD,IAEM,IAAGa,GAAG,CAACC,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAClCf,SAAS,CAAC,+BAAD,CAAT,CACD,CACF,CApBP,EAqBH,CAEH,mBACE,wCACA,KAAC,MAAD,EAAQ,UAAU,CAAIE,UAAtB,EADA,cAEA,YAAK,SAAS,CAAC,iBAAf,CAAiC,KAAK,CAAE,CAACc,QAAQ,CAAE,UAAX,CAAuBC,MAAM,CAAE,OAA/B,CAAyCC,OAAO,CAAC,MAAjD,CAAxC,uBACF,YAAK,SAAS,CAAC,qCAAf,uBACC,aAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAACC,MAAM,CAAE,KAAT,CAAlC,wBACC,YAAK,SAAS,CAAC,+BAAf,uBACC,YAAK,SAAS,CAAC,sBAAf,uBACO,YAAK,GAAG,CAAGlC,cAAX,CAA2B,SAAS,CAAC,YAArC,CAAkD,GAAG,CAAC,MAAtD,EADP,EADD,EADD,cAMC,YAAK,SAAS,CAAC,8CAAf,uBACC,qCACC,aAAK,SAAS,CAAC,kBAAf,wBACC,YAAK,SAAS,CAAC,oBAAf,uBACS,aAAM,SAAS,CAAC,kBAAhB,uBAAmC,KAAC,YAAD,EAAc,SAAS,CAAC,MAAxB,CAA+B,IAAI,CAAE,EAArC,EAAnC,EADT,EADD,cAIC,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,EAAxB,CAA2B,SAAS,CAAC,yBAArC,CAA+D,WAAW,CAAC,OAA3E,CAAmF,QAAQ,CAClF,kBAAAmC,GAAG,QAAI9B,CAAAA,QAAQ,CAAC8B,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAZ,EADZ,EAJD,GADD,cASC,aAAK,SAAS,CAAC,kBAAf,wBACC,YAAK,SAAS,CAAC,oBAAf,uBACS,aAAM,SAAS,CAAC,kBAAhB,uBAAmC,KAAC,KAAD,EAAO,SAAS,CAAC,MAAjB,CAAwB,IAAI,CAAE,EAA9B,EAAnC,EADT,EADD,cAIC,cAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,EAA5B,CAA+B,SAAS,CAAC,yBAAzC,CAAmE,WAAW,CAAC,UAA/E,CAA0F,QAAQ,CACzF,kBAAAF,GAAG,QAAI5B,CAAAA,WAAW,CAAC4B,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAf,EADZ,EAJD,GATD,cAiBC,YAAK,SAAS,CAAC,YAAf,uBACC,aAAK,EAAE,CAAC,iBAAR,CAA0B,SAAS,CAAC,gCAApC,wBACC,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,sBAAjC,CAAwD,EAAE,CAAC,qBAA3D,EADD,cAEC,cAAO,EAAE,CAAC,YAAV,CAAuB,SAAS,CAAC,sBAAjC,CAAwD,OAAO,CAAC,qBAAhE,yBAFD,GADD,EAjBD,cAuBE,YAAK,SAAS,CAAC,oDAAf,uBACD,eAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,QAA3B,CAAoC,OAAO,CAAElB,YAA7C,CAA2D,SAAS,CAAC,wBAArE,mBADC,EAvBF,GADD,EAND,cAoCC,aAAK,SAAS,CAAC,MAAf,wBACC,aAAK,SAAS,CAAC,qCAAf,kDACwB,UAAG,KAAK,CAAE,CAACmB,cAAc,CAAE,MAAjB,CAAV,CAAqC,SAAS,CAAC,MAA/C,CAAsD,IAAI,CAAC,SAA3D,0BADxB,GADD,cAKM,YAAK,KAAK,CAAE,CAACC,SAAS,CAAE,QAAZ,CAAsBC,KAAK,CAAE,KAA7B,CAAZ,UAAkD1B,MAAlD,EALN,cAOC,YAAK,SAAS,CAAC,qCAAf,uBACC,UAAG,KAAK,CAAE,CAACwB,cAAc,CAAE,MAAjB,CAAV,CAAqC,IAAI,CAAC,GAA1C,mCADD,EAPD,GApCD,GADD,EADE,EAFA,cAsDF,KAAC,UAAD,IAtDE,cAuDF,KAAC,MAAD,IAvDE,GADF,CA2DD","sourcesContent":["\nimport SlideShow from './SlideShow'\nimport SearchAndBackground from './SearchAndBackground'\nimport ActionMenu from './ActionMenu'\nimport Contact from './Contact'\nimport Footer from './Footer'\nimport Navbar from './Navbar'\nimport ChatWidget from './ChatWidget'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport './App.css';\nimport './css/main.css';\nimport React, {useEffect, useState} from 'react';\nimport { Widget, addResponseMessage } from 'react-chat-widget';\nimport 'react-chat-widget/lib/styles.css';\nimport messageHandler from './messageHandler'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {FaUserCircle, FaKey} from \"react-icons/fa\"\n\nimport royaremlakicon from \"./img/royaremlakicon.png\"\nimport axiosInstance from './axios-connection'\nimport {useCookies} from 'react-cookie'\n\n\nexport default function Login(){\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [token, setToken, deleteToken] = useCookies(['access-token'])\n    const [refreshToken, setRefreshToken, deleteRefreshToken] = useCookies(['refresh-token'])\n    const [dialog, setDialog] = useState('')\n\n    let logged;\n    if(token['acces-token']){\n      logged = true;\n    }else{\n      logged = false;\n    }\n    const [isLoggedIn, setIsLoggedIn] = useState(logged)\n\n    function loginClicked(){\n\n        axiosInstance\n              .post(`auth/token/`, {\n                  username: email,\n                  password: password,\n              })\n              .then((res) => {\n                  var access = res.data.access\n                  var refresh = res.data.refresh\n                  setToken('access-token',access)\n                  setRefreshToken('refresh-token', refresh)\n                  setDialog(\"Loginned succesfuly.\")\n                  setIsLoggedIn(true)\n              })\n              .catch((err)=>{\n                setIsLoggedIn(false)\n                if(err.response.status == 401){\n                  setDialog(\"Wrong password, please try again.\")\n                }else if(err.response.status == 400){\n                  setDialog(\"This email has not registered\")\n                }\n              })\n    }\n\n  return (\n    <>\n    <Navbar isLoggedIn = {isLoggedIn}/>\n    <div className=\"container h-100\" style={{position: 'relative', bottom: '150px' , padding:'80px'}}>\n\t\t<div className=\"d-flex justify-content-center h-100\">\n\t\t\t<div className=\"user_card\" style={{height: '50%'}}>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<div className=\"brand_logo_container\">\n            <img src= {royaremlakicon} className=\"brand_logo\" alt=\"Logo\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center form_container\">\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n                <span className=\"input-group-text\"><FaUserCircle className=\"icon\" size={20}/></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"text\" name=\"\" className=\"form-control input_user\" placeholder=\"email\" onChange={\n                evt => setEmail(evt.target.value)\n              }/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n                <span className=\"input-group-text\"><FaKey className=\"icon\" size={20}/></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"password\" name=\"\" className=\"form-control input_pass\" placeholder=\"password\" onChange={\n                evt => setPassword(evt.target.value)\n              }/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<div id=\"rememberWrapper\" className=\"custom-control custom-checkbox\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"custom-control-input\" id=\"customControlInline\"/>\n\t\t\t\t\t\t\t\t<label id=\"rememberme\" className=\"custom-control-label\" htmlFor=\"customControlInline\">Remember me</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3 login_container\">\n\t\t\t\t \t<button type=\"button\" name=\"button\" onClick={loginClicked} className=\"btn btn-primary btn-lg\">Login</button>\n\t\t\t\t   </div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center links\">\n\t\t\t\t\t\tDon't have an account? <a style={{textDecoration: 'none',}} className=\"ml-2\" href=\"/signup\">&nbsp; Sign Up</a>\n\t\t\t\t\t</div>\n\n          <div style={{textAlign: 'center', color: 'red'}}>{dialog}</div>\n\n\t\t\t\t\t<div className=\"d-flex justify-content-center links\">\n\t\t\t\t\t\t<a style={{textDecoration: 'none',}} href=\"#\">Forgot your password?</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n  <ChatWidget/>\n  <Footer/>\n  </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
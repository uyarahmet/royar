import React from 'react';
import { Avatar } from '../Avatar';
import { useComponentContext } from '../../context/ComponentContext';
import { useMessageContext } from '../../context/MessageContext';
import { useTranslationContext } from '../../context/TranslationContext';
export var QuotedMessage = function () {
    var _a;
    var Attachment = useComponentContext().Attachment;
    var _b = useMessageContext(), isMyMessage = _b.isMyMessage, message = _b.message;
    var userLanguage = useTranslationContext().userLanguage;
    var quoted_message = message.quoted_message;
    if (!quoted_message)
        return null;
    var quotedMessageText = ((_a = quoted_message.i18n) === null || _a === void 0 ? void 0 : _a[userLanguage + "_text"]) ||
        quoted_message.text;
    // @ts-expect-error
    var quotedMessageAttachment = quoted_message.attachments.length
        ? // @ts-expect-error
            quoted_message.attachments[0]
        : null;
    if (!quotedMessageText && !quotedMessageAttachment)
        return null;
    return (React.createElement("div", { className: "" + (isMyMessage() ? 'quoted-message mine' : 'quoted-message') },
        quoted_message.user && (React.createElement(Avatar, { image: quoted_message.user.image, size: 20, user: quoted_message.user })),
        React.createElement("div", { className: 'quoted-message-inner' },
            quotedMessageAttachment && React.createElement(Attachment, { attachments: [quotedMessageAttachment] }),
            React.createElement("div", null, quotedMessageText))));
};
